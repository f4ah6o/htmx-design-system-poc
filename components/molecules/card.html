{#
  カードコンポーネント

  パラメータ:
  - title: カードタイトル
  - description: カードの説明文
  - image_url: カード画像のURL
  - footer_content: フッターのコンテンツ（HTML）
  - variant: カードのバリエーション (デフォルト: "default")
    - "default": デフォルトカード
    - "hover": ホバーエフェクト付き
    - "clickable": クリック可能なカード
  - hx_get: htmx GET リクエスト先
  - hx_post: htmx POST リクエスト先
  - hx_target: htmx ターゲット要素
  - hx_swap: htmx スワップ方法
  - href: リンク先URL（clickableの場合）
  - class: 追加のCSSクラス
#}

{% set variant = variant|default('default') %}

{# バリエーション別スタイル #}
{% if variant == 'hover' %}
  {% set variant_class = 'ds-card-hover' %}
{% elif variant == 'clickable' %}
  {% set variant_class = 'ds-card-clickable' %}
{% else %}
  {% set variant_class = '' %}
{% endif %}

<div
  class="ds-card {{ variant_class }} {{ class|default('') }}"
  {% if hx_get %}hx-get="{{ hx_get }}"{% endif %}
  {% if hx_post %}hx-post="{{ hx_post }}"{% endif %}
  {% if hx_target %}hx-target="{{ hx_target }}"{% endif %}
  {% if hx_swap %}hx-swap="{{ hx_swap }}"{% endif %}
  {% if variant == 'clickable' and href %}onclick="window.location.href='{{ href }}'"{% endif %}
>
  {# 画像 #}
  {% if image_url %}
    <div class="aspect-video w-full overflow-hidden bg-neutral-100">
      <img src="{{ image_url }}" alt="{{ title }}" class="w-full h-full object-cover">
    </div>
  {% endif %}

  {# コンテンツ #}
  <div class="ds-card-content">
    {% if title %}
      <h3 class="text-title-md font-semibold text-neutral-800 mb-2">{{ title }}</h3>
    {% endif %}

    {% if description %}
      <p class="text-body-md text-neutral-600">{{ description }}</p>
    {% endif %}

    {# カスタムコンテンツ（スロット） #}
    {{ caller() if caller else '' }}
  </div>

  {# フッター #}
  {% if footer_content %}
    <div class="ds-card-footer">
      {{ footer_content|safe }}
    </div>
  {% endif %}
</div>
