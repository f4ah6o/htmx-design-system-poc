{#
  ナビゲーションバーコンポーネント

  パラメータ:
  - brand_text: ブランドテキスト (デフォルト: "htmx Design System")
  - brand_url: ブランドリンク先 (デフォルト: "/")
  - current_page: 現在のページ (アクティブ状態の表示用)
  - class: 追加のCSSクラス
#}

{% set brand_text = brand_text|default('htmx Design System') %}
{% set brand_url = brand_url|default('/') %}

<nav class="bg-white shadow-md {{ class|default('') }}" x-data="{ mobileMenuOpen: false }">
  <div class="container mx-auto px-4">
    <div class="flex items-center justify-between h-16">
      <!-- ブランド -->
      <div class="flex-shrink-0">
        <a href="{{ brand_url }}" class="text-xl font-bold text-gray-900 hover:text-blue-600 transition">
          {{ brand_text }}
        </a>
      </div>

      <!-- デスクトップメニュー -->
      <div class="hidden md:block">
        <div class="flex items-center space-x-4">
          <a
            href="/"
            class="px-3 py-2 rounded-md text-sm font-medium transition
              {% if current_page == 'home' %}bg-blue-100 text-blue-700{% else %}text-gray-700 hover:bg-gray-100{% endif %}"
          >
            ホーム
          </a>
          <a
            href="/atoms"
            class="px-3 py-2 rounded-md text-sm font-medium transition
              {% if current_page == 'atoms' %}bg-blue-100 text-blue-700{% else %}text-gray-700 hover:bg-gray-100{% endif %}"
          >
            Atoms
          </a>
          <a
            href="/molecules"
            class="px-3 py-2 rounded-md text-sm font-medium transition
              {% if current_page == 'molecules' %}bg-blue-100 text-blue-700{% else %}text-gray-700 hover:bg-gray-100{% endif %}"
          >
            Molecules
          </a>
          <a
            href="/organisms"
            class="px-3 py-2 rounded-md text-sm font-medium transition
              {% if current_page == 'organisms' %}bg-blue-100 text-blue-700{% else %}text-gray-700 hover:bg-gray-100{% endif %}"
          >
            Organisms
          </a>
        </div>
      </div>

      <!-- モバイルメニューボタン -->
      <div class="md:hidden">
        <button
          @click="mobileMenuOpen = !mobileMenuOpen"
          class="inline-flex items-center justify-center p-2 rounded-md text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500"
        >
          <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path x-show="!mobileMenuOpen" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
            <path x-show="mobileMenuOpen" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>
    </div>
  </div>

  <!-- モバイルメニュー -->
  <div x-show="mobileMenuOpen" x-transition class="md:hidden border-t border-gray-200">
    <div class="px-2 pt-2 pb-3 space-y-1">
      <a
        href="/"
        class="block px-3 py-2 rounded-md text-base font-medium transition
          {% if current_page == 'home' %}bg-blue-100 text-blue-700{% else %}text-gray-700 hover:bg-gray-100{% endif %}"
      >
        ホーム
      </a>
      <a
        href="/atoms"
        class="block px-3 py-2 rounded-md text-base font-medium transition
          {% if current_page == 'atoms' %}bg-blue-100 text-blue-700{% else %}text-gray-700 hover:bg-gray-100{% endif %}"
      >
        Atoms
      </a>
      <a
        href="/molecules"
        class="block px-3 py-2 rounded-md text-base font-medium transition
          {% if current_page == 'molecules' %}bg-blue-100 text-blue-700{% else %}text-gray-700 hover:bg-gray-100{% endif %}"
      >
        Molecules
      </a>
      <a
        href="/organisms"
        class="block px-3 py-2 rounded-md text-base font-medium transition
          {% if current_page == 'organisms' %}bg-blue-100 text-blue-700{% else %}text-gray-700 hover:bg-gray-100{% endif %}"
      >
        Organisms
      </a>
    </div>
  </div>
</nav>
