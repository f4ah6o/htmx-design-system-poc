{% extends "base.html" %}

{% block title %}Molecules - htmx Design System PoC{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-8">
    <div class="max-w-6xl mx-auto">
        <h1 class="text-4xl font-bold text-gray-900 mb-2">Molecules コンポーネント</h1>
        <p class="text-gray-600 mb-8">Atomsを組み合わせたMoleculesコンポーネントのカタログ</p>

        <!-- フォームグループコンポーネント -->
        <section class="mb-12">
            <h2 class="text-2xl font-bold text-gray-800 mb-4 pb-2 border-b-2 border-gray-200">フォームグループ</h2>

            <div class="bg-white rounded-lg shadow-md p-6 mb-6">
                <h3 class="text-lg font-semibold text-gray-700 mb-4">基本的なフォームグループ</h3>
                <div class="space-y-6 max-w-md">
                    {% set label = "ユーザー名" %}
                    {% set name = "username" %}
                    {% set placeholder = "太郎" %}
                    {% set required = true %}
                    {% include 'molecules/form-group.html' with context %}

                    {% set label = "メールアドレス" %}
                    {% set name = "email" %}
                    {% set type = "email" %}
                    {% set placeholder = "taro@example.com" %}
                    {% set required = true %}
                    {% set help_text = "有効なメールアドレスを入力してください" %}
                    {% include 'molecules/form-group.html' with context %}

                    {% set label = "パスワード" %}
                    {% set name = "password" %}
                    {% set type = "password" %}
                    {% set placeholder = "8文字以上" %}
                    {% set required = true %}
                    {% set help_text = "パスワードは8文字以上で入力してください" %}
                    {% include 'molecules/form-group.html' with context %}
                </div>
            </div>

            <div class="bg-white rounded-lg shadow-md p-6 mb-6">
                <h3 class="text-lg font-semibold text-gray-700 mb-4">エラー状態のフォームグループ</h3>
                <div class="space-y-6 max-w-md">
                    {% set label = "ユーザー名" %}
                    {% set name = "username_error" %}
                    {% set value = "ab" %}
                    {% set error = "ユーザー名は3文字以上である必要があります" %}
                    {% set required = true %}
                    {% set help_text = "" %}
                    {% include 'molecules/form-group.html' with context %}
                </div>
            </div>

            <div class="bg-white rounded-lg shadow-md p-6 mb-6">
                <h3 class="text-lg font-semibold text-gray-700 mb-4">htmx デモ（リアルタイムフォーム送信）</h3>
                <div id="form-demo-container">
                    <form class="space-y-6 max-w-md">
                        {% set label = "名前" %}
                        {% set name = "name" %}
                        {% set placeholder = "山田太郎" %}
                        {% set required = true %}
                        {% set error = "" %}
                        {% set help_text = "" %}
                        {% include 'molecules/form-group.html' with context %}

                        {% set label = "メッセージ" %}
                        {% set name = "message" %}
                        {% set placeholder = "メッセージを入力してください" %}
                        {% set required = true %}
                        {% include 'molecules/form-group.html' with context %}

                        <div>
                            {% set text = "送信" %}
                            {% set variant = "primary" %}
                            {% set size = "md" %}
                            {% set type = "button" %}
                            {% set hx_post = "/api/demo/submit-form" %}
                            {% set hx_target = "#form-result" %}
                            {% set hx_swap = "innerHTML" %}
                            {% include 'atoms/button.html' with context %}
                        </div>
                    </form>

                    <div id="form-result" class="mt-6 p-4 bg-gray-50 rounded-md min-h-[60px]">
                        <p class="text-gray-500 italic">フォームを送信してください</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- カードコンポーネント -->
        <section class="mb-12">
            <h2 class="text-2xl font-bold text-gray-800 mb-4 pb-2 border-b-2 border-gray-200">カード</h2>

            <div class="bg-white rounded-lg shadow-md p-6 mb-6">
                <h3 class="text-lg font-semibold text-gray-700 mb-4">基本的なカード</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    {% set title = "カードタイトル" %}
                    {% set description = "これはカードの説明文です。カードは情報をグループ化して表示するのに適しています。" %}
                    {% set variant = "default" %}
                    {% include 'molecules/card.html' with context %}

                    {% set title = "画像付きカード" %}
                    {% set description = "画像を含むカードコンポーネントです。" %}
                    {% set image_url = "https://via.placeholder.com/400x300/4F46E5/ffffff?text=Sample+Image" %}
                    {% include 'molecules/card.html' with context %}

                    {% set title = "ホバーエフェクト" %}
                    {% set description = "マウスオーバーでエフェクトが適用されます。" %}
                    {% set variant = "hover" %}
                    {% set image_url = "" %}
                    {% include 'molecules/card.html' with context %}
                </div>
            </div>

            <div class="bg-white rounded-lg shadow-md p-6 mb-6">
                <h3 class="text-lg font-semibold text-gray-700 mb-4">フッター付きカード</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    {% set title = "アクション付きカード" %}
                    {% set description = "フッターにボタンやリンクを配置できます。" %}
                    {% set variant = "default" %}
                    {% set text_button = "詳細を見る" %}
                    {% set footer_content = '<button class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition">詳細を見る</button>' %}
                    {% include 'molecules/card.html' with context %}

                    {% set title = "複数アクション" %}
                    {% set description = "複数のアクションボタンを配置することもできます。" %}
                    {% set footer_content = '<div class="flex gap-3"><button class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition">承認</button><button class="px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition">キャンセル</button></div>' %}
                    {% include 'molecules/card.html' with context %}
                </div>
            </div>

            <div class="bg-white rounded-lg shadow-md p-6 mb-6">
                <h3 class="text-lg font-semibold text-gray-700 mb-4">htmx デモ（動的コンテンツ読み込み）</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    {% set title = "商品 A" %}
                    {% set description = "クリックして商品詳細を読み込む" %}
                    {% set variant = "clickable" %}
                    {% set hx_get = "/api/demo/product/a" %}
                    {% set hx_target = "#product-detail" %}
                    {% set hx_swap = "innerHTML" %}
                    {% set image_url = "https://via.placeholder.com/400x300/3B82F6/ffffff?text=Product+A" %}
                    {% include 'molecules/card.html' with context %}

                    {% set title = "商品 B" %}
                    {% set description = "クリックして商品詳細を読み込む" %}
                    {% set hx_get = "/api/demo/product/b" %}
                    {% set image_url = "https://via.placeholder.com/400x300/8B5CF6/ffffff?text=Product+B" %}
                    {% include 'molecules/card.html' with context %}

                    {% set title = "商品 C" %}
                    {% set description = "クリックして商品詳細を読み込む" %}
                    {% set hx_get = "/api/demo/product/c" %}
                    {% set image_url = "https://via.placeholder.com/400x300/10B981/ffffff?text=Product+C" %}
                    {% include 'molecules/card.html' with context %}
                </div>

                <div id="product-detail" class="mt-6 p-6 bg-gray-50 rounded-lg min-h-[120px]">
                    <p class="text-gray-500 italic">カードをクリックして商品詳細を表示してください</p>
                </div>
            </div>
        </section>
    </div>
</div>
{% endblock %}
