{% set snippet %}
{% raw %}
<div class="grid gap-6 md:grid-cols-2">
    {% with title='基本カード', description='テキストのみのシンプルなカード' %}
        {% include 'molecules/card.html' %}
    {% endwith %}
    {% with title='画像付き', description='ビジュアルを含むカード', image_url='https://via.placeholder.com/400x240/4F46E5/ffffff?text=Card' %}
        {% include 'molecules/card.html' %}
    {% endwith %}
</div>
{% with title='商品詳細', description='クリックして詳細を読み込み', variant='clickable', hx_get='/api/demo/product/a', hx_target='#card-preview-detail', hx_swap='innerHTML' %}
    {% include 'molecules/card.html' %}
{% endwith %}
<div id="card-preview-detail" class="mt-3 text-sm text-gray-500"></div>
{% endraw %}
{% endset %}

<div class="space-y-8" x-data="{ showCode: false }">
    <header class="space-y-2">
        <p class="text-xs uppercase tracking-wide text-purple-600">{{ component.category }} / {{ component.title }}</p>
        <h2 class="text-3xl font-bold text-gray-900">カードデザイン</h2>
        <p class="text-gray-600">情報のまとまりをボックス化し、必要に応じて画像・アクションやhtmx連携を追加できます。</p>
    </header>

    <div class="space-y-6">
        <div>
            <p class="text-sm font-semibold text-gray-500 mb-4">プレビュー</p>
            <div class="grid gap-6 lg:grid-cols-3">
                {% with title='基本カード', description='テキストのみのシンプルなカード' %}
                    {% include 'molecules/card.html' %}
                {% endwith %}
                {% with title='画像付き', description='ビジュアルを含むカード', image_url='https://via.placeholder.com/400x240/4F46E5/ffffff?text=Card' %}
                    {% include 'molecules/card.html' %}
                {% endwith %}
                {% with title='アクション付き', description='フッターにアクションを配置', footer_content='<button class="px-4 py-2 bg-blue-600 text-white rounded-lg">詳細を見る</button>' %}
                    {% include 'molecules/card.html' %}
                {% endwith %}
            </div>
        </div>
        <div class="grid gap-6 lg:grid-cols-2">
            <div class="space-y-3">
                <p class="text-sm font-semibold text-gray-500">htmx連携サンプル</p>
                {% with title='商品カード', description='クリックで右側に詳細をロード', variant='clickable', hx_get='/api/demo/product/b', hx_target='#card-detail-panel', hx_swap='innerHTML', image_url='https://via.placeholder.com/400x240/3B82F6/ffffff?text=htmx' %}
                    {% include 'molecules/card.html' %}
                {% endwith %}
            </div>
            <div id="card-detail-panel" class="min-h-[160px] rounded-2xl border border-dashed border-purple-200 bg-purple-50/60 p-5 text-gray-600">
                <p class="text-sm">カードをクリックするとサーバーから詳細を取得します。</p>
            </div>
        </div>
        <div class="bg-purple-50 rounded-2xl p-5 space-y-3">
            <p class="font-semibold text-gray-800">バリエーション一覧</p>
            <ul class="space-y-2 text-sm text-gray-600">
                <li><span class="font-semibold text-gray-900">default:</span> テキスト主体の標準カード。</li>
                <li><span class="font-semibold text-gray-900">hover:</span> マウスオーバー時の浮き上がり演出を付与。</li>
                <li><span class="font-semibold text-gray-900">clickable:</span> クリックアクション + hx-get をセットして詳細表示に活用。</li>
                <li><span class="font-semibold text-gray-900">footer_content:</span> HTMLを受け取りアクションボタンやメタ情報を配置。</li>
            </ul>
        </div>
    </div>

    <div class="border border-slate-200 rounded-2xl overflow-hidden">
        <button class="w-full flex items-center justify-between px-5 py-3 text-sm font-semibold text-gray-700" @click="showCode = !showCode">
            <span>コードスニペット</span>
            <span x-text="showCode ? '−' : '+'"></span>
        </button>
        <div x-show="showCode" x-transition class="bg-slate-900 text-slate-50 text-sm">
            <pre class="overflow-x-auto p-5"><code>{{ snippet|trim|e }}</code></pre>
        </div>
    </div>
</div>
